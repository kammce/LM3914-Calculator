<!DOCTYPE html>
<html>
<head>
	<title>LM3914 Calculator</title>
</head>
<body>


<script type="text/javascript" charset="utf-8" async defer>
	var iLED = 12.5; // 20 mA
	var vHigh = 5; // Voltage High
	var vLow = 1.170; // Voltage Low
	var animSpeed = 2000; // 2000 mSec or 2 sec
	var vDiv = 10000; // 10k Ohms
	var cap = 47; // 47uF
	var intResReal = 10800; // 10k8 Ohms
	var intResTyp = 12000; // 12k Ohms
	var usingVDivider = true;

	function getResistorValues(current, vH, vL, intRes, vDiv) {
		var refout = function(R1, R2) { return (1.25*(1+(R2/R1))); }
		if(vDiv == true) {
			vH /= 2; vL /= 2;
		}
		// Datasheet Equaton for Current
		// iled = 12.5/R1 -> R1 = 12.5/iLED
		current /= 1000; // Now it is in Amps
		var ResI = 12.5/current;
		// Datasheet Equation for Regulator
		// V = (1.25*(1+(ResHigh/ResI))) -> ResHigh = (ResI/5)*(4V-5)
		var ResHigh = (ResI/5)*((4*vH)-5);
		// Voltage Divider
		// ResLow = intRes*(1/((vH/vL)-1))
		var ResLow = intRes*(1/((vH/vL)-1));
		console.log("refout:");
		console.log(refout(ResHigh, ResI));
		return {
			ResI: ResI,
			ResLow: ResLow,
			ResHigh: ResHigh,
		};
	}
	function getAnimCapValue(current, vH, vL, intRes) {
		// Datasheet Equaton for Current
		// iled = 12.5/R1 -> R1 = 12.5/iLED
		var cap = 0;
		return cap;
	}

	console.log(getResistorValues(iLED, vHigh, vLow, intResReal, usingVDivider));

</script>

</body>
</html>